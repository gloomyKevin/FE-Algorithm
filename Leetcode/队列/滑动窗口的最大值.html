<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 双端队列
        // 使用双端队列存储值的索引!!!注意,是索引!!!


        // var maxSlidingWindow = function (nums, k) {
        //     const deque = [];
        //     const result = [];
        //     for (let i = 0; i < nums.length; i++) {
        //         // 把滑动窗口之外的踢出
        //         if (i - deque[0] >= k) {
        //             deque.shift();
        //         }
        //         while (nums[deque[deque.length - 1]] <= nums[i]) {
        //             deque.pop();
        //         }
        //         deque.push(i);
        //         if (i >= k - 1) {
        //             result.push(nums[deque[0]])
        //         }
        //     }
        //     return result;
        // }

        var maxSlidingWindow = function (nums, k) {
            const deque = [];
            const result = [];
            for (let i = 0; i < nums.length; i++) {
                deque.push(i);
                // 把滑动窗口之外的踢出
                if (i - deque[0] >= k) {
                    deque.shift();
                }
                // 这一段的逻辑是重点!!!!
                // 依次比较双端队列的队尾与当前元素 i 对应的值，
                // 队尾元素值较小时出列，直至不小于当前元素 i 的值时，或者队列为空，
                // 这是为了保证当队头出队时，新的队头依旧是最大值
                while (nums[deque[deque.length - 1]] < nums[i]) {
                    deque.pop();
                }
                // 从第 K 次遍历开始，依次把最大值（双端队列的队头）添加到结果 result 中
                // 注意!!!这里存在一个数学关系
                // k + 输出结果长度 = 输入长度
                if (i >= k - 1) {
                    result.push(nums[deque[0]]);
                }
            }
            return result;
        }

        var maxSlidingWindow = function (num, k) {
            let deque = [],
                result = [];
            for (let i = 0; i < nums.length; i++) {
                if (i - deque[0] >= k) {
                    deque.shift();
                }
                while (nums[deque[deque.length - 1]] < nums[i]) {
                    deque.pop();
                }
                // 注意这一行放置位置不能错!!!!
                deque.push(i);
                if (i >= k - 1) {
                    result.push(nums[deque[0]]);
                }
            }
            return result;
        }

        var maxSlidingWindow = function (nums, k) {

        }
    </script>
</body>

</html>